{% capture finalTitle %}{% if draft %}[DRAFT] {% endif %}{{title}}{% endcapture %}
{% capture finalDescription %}{% if description %}{{description}}{% else %}{% if layout == 'post' and content %}{{ page.rawInput | strip_html | strip_newlines | truncate: 156 }}{% else %}{{site.description}}{% endif %}{% endif %}{% endcapture %}
{% capture finalCanonical %}{{site.url}}{{page.url | replace: '.html', ''}}{% endcapture %}
{% capture finalImage %}{{site.url}}{% if image %}{{image}}{% else %}/img/logos/logo.png{% endif %}{% endcapture %}
<title>{{finalTitle}}</title>
<!-- Viewport meta -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Icons -->
{% include "icons.html" %}
<!-- Canonical -->
<link rel="canonical" href="{{finalCanonical}}">
<!-- Search Engine Tags -->
<meta name="description" content="{{finalDescription}}" />
<!-- Open Graph Tags -->
<meta property="og:title" content="{{finalTitle}}">
<meta name="twitter:title" content="{{finalTitle}}">
<meta property="og:type" content="website">
<meta property="og:description" content="{{finalDescription}}">
<meta name="twitter:description" content="{{finalDescription}}">
<meta property="og:url" content="{{finalCanonical}}" />
<meta property="og:image" content="{{finalImage}}">
<meta name="twitter:image" content="{{finalImage}}">
<meta name="twitter:card" content="{% if image %}summary_large_image{% else %}summary{% endif %}">
<!-- Atom/JSON Feeds-->
<link rel="alternate" type="application/atom+xml" href="/feed.xml">
<link rel="alternate" type="application/feed+json" href="/feed.json">
<!-- Webmention.io support -->
{% if layout == 'post' %}
<link rel="webmention" href="//webmention.io/ethan.link/webmention" />
<link rel="pingback" href="//webmention.io/ethan.link/xmlrpc" />
{% endif %}
<!-- Plausible Analytics -->
<script async defer data-domain="ethan.link" src="https://plausible.io/js/script.outbound-links.js"></script>
<!-- Generator meta tag-->
<meta name="generator" content="{{ eleventy.generator }}">
<!-- My stylesheet -->
<style>
{% scss %}
  @import "index.scss";
  {% if layout == 'post' %}
    @import "post-page.scss";
  {% endif %}
{% endscss %}
</style>
